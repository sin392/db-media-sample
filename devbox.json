{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.12.0/.schema/devbox.schema.json",
  "packages": [
    "go@latest",
    "protoc-gen-go@latest",
    "protoc-gen-go-grpc@latest",
    "protoc-gen-doc@latest",
    "buf@latest"
  ],
  "shell": {
    "init_hook": [
      // devboxのパッケージリストに含まれないバイナリを手動でインストールする
      "export GOBIN=$(pwd)/.devbox/go/bin",
      "export PATH=$GOBIN:$PATH",
      "go install github.com/grpc-ecosystem/grpc-gateway/v2/protoc-gen-grpc-gateway@latest",
      "go install github.com/grpc-ecosystem/grpc-gateway/v2/protoc-gen-openapiv2@latest",
      "echo 'Welcome to devbox!' > /dev/null"
    ],
    "scripts": {
      "test": ["echo \"Error: no test specified\" && exit 1"]
    }
  }
}
